import{n as l}from"./index.01624653.js";var h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("canvas",{ref:"canvas"})])},c=[];const o={props:{propValue:{type:Object,require:!0,default:()=>{}},element:{type:Object,default:()=>{}}},data(){return{width:0,height:0,img:null,canvas:null,ctx:null,isFirst:!0}},mounted(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.drawImage()},watch:{"element.style.width":function(){this.drawImage()},"element.style.height":function(){this.drawImage()},"propValue.flip.vertical":function(){this.mirrorFlip()},"propValue.flip.horizontal":function(){this.mirrorFlip()}},methods:{drawImage(){const{width:e,height:t}=this.element.style;this.canvas.width=e,this.canvas.height=t,this.isFirst?(this.isFirst=!1,this.img=document.createElement("img"),this.img.src=this.propValue.url,this.img.onload=()=>{this.ctx.drawImage(this.img,0,0,e,t),this.mirrorFlip()}):this.mirrorFlip()},mirrorFlip(){const{vertical:e,horizontal:t}=this.propValue.flip,{width:i,height:s}=this.element.style,r=t?-1:1,a=e?-1:1;this.ctx.clearRect(0,0,i,s),this.ctx.translate(i/2-i*r/2,s/2-s*a/2),this.ctx.scale(r,a),this.ctx.drawImage(this.img,0,0,i,s),this.ctx.setTransform(1,0,0,1,0,0)}}},n={};var u=l(o,h,c,!1,m,null,null,null);function m(e){for(let t in n)this[t]=n[t]}var d=function(){return u.exports}();export{d as default};
